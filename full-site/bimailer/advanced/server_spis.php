<?php require_once _929358279(0);require_once _929358279(1);is_array($INT)or empty($regim)?:exit(header(_929358279(2),TRUE,301));$kyt=_929358279(3) .$INT[_929358279(4)];function definType($v){$v=iconv(_929358279(5),_929358279(6),filter_var(trim($v),FILTER_SANITIZE_URL));if(!preg_match(_929358279(7),$v)){return false;}if(stripos($v,_929358279(8))!==FALSE or strpos($v,_929358279(9))!==FALSE or stripos($v,_929358279(10))!==FALSE or stripos($v,_929358279(11))!==FALSE){return false;}$pach=parse_url($v);if($pach[_929358279(12)]== _929358279(13)or $pach[_929358279(14)]== _929358279(15)or(isset($pach[_929358279(16)])&& count($pach)>1)){$t=_929358279(17);}else{$t=_929358279(18);if(empty($pach[_929358279(19)])){$v=$v ._929358279(20);}}$md=md5($v .microtime());return array($t,$v,$md);}$str=NULL;$tr=NULL;switch($_FILES[_929358279(21)][_929358279(22)]){case _929358279(23):require_once _929358279(24);$xlsx=@SimpleXLSX::parse($_FILES[_929358279(25)][_929358279(26)]);$larr=$xlsx->rows();$kt=@mysqli_prepare($s,_929358279(27));foreach($larr as $v){if($ri=definType($v[0])){list($type,$url,$mds)=$ri;}else{continue;}$login=(strlen($v[1])>3 && strlen($v[2])>3 && $type!== _929358279(28))?trim($v[1]):NULL;$pass=(strlen($v[1])>3 && strlen($v[2])>3 && $type!== _929358279(29))?trim($v[2]):NULL;$com=strlen($v[3])>3?trim($v[3]):NULL;$PST[]=array($url,$type,$login,$pass);@mysqli_stmt_bind_param($kt,_929358279(30),$type,$url,$mds,$login,$pass,$kyt,$com);@mysqli_stmt_execute($kt);$tr .= _929358279(31) .$mds ._929358279(32) .$url .(is_null($login)?_929358279(33):_929358279(34) .trim($login) ._929358279(35)) ._929358279(36) .trim($com) ._929358279(37);}break;case _929358279(38):$larr=file($_FILES[_929358279(39)][_929358279(40)],FILE_IGNORE_NEW_LINES|FILE_SKIP_EMPTY_LINES)or exit(_929358279(41));$kt=mysqli_prepare($s,_929358279(42));foreach($larr as $value){$v=explode(_929358279(43),iconv(_929358279(44),_929358279(45),$value));if($ri=definType($v[0])){list($type,$url,$mds)=$ri;}else{continue;}$login=(strlen($v[1])>3 && strlen($v[2])>3 && $type!== _929358279(46))?trim($v[1]):NULL;$pass=(strlen($v[1])>3 && strlen($v[2])>3 && $type!== _929358279(47))?trim($v[2]):NULL;$com=strlen($v[3])>3?trim($v[3]):NULL;$PST[]=array($url,$type,$login,$pass);@mysqli_stmt_bind_param($kt,_929358279(48),$type,$url,$mds,$login,$pass,$kyt,$com);@mysqli_stmt_execute($kt);$tr .= _929358279(49) .$mds ._929358279(50) .$url .(is_null($login)?_929358279(51):_929358279(52) .trim($login) ._929358279(53)) ._929358279(54) .trim($com) ._929358279(55);}break;case _929358279(56):$larr=file($_FILES[_929358279(57)][_929358279(58)],FILE_IGNORE_NEW_LINES|FILE_SKIP_EMPTY_LINES)or exit(_929358279(59));foreach($larr as $v){if($ri=definType($v)){list($type,$url,$mds)=$ri;}else{continue;}$PST[]=array($url,$type);$str=_929358279(60) .$type ._929358279(61) .$url ._929358279(62) .$mds ._929358279(63) .$str;$tr .= _929358279(64) .$mds ._929358279(65) .$url ._929358279(66);}$qu=_929358279(67) .substr($str,0,-1);mysqli_query($s,$qu);break;default:exit(_929358279(68) .$_FILES[_929358279(69)][_929358279(70)] ._929358279(71));break;}if(!is_null($tr)){echo(_929358279(72) .$tr);}$df=array(_929358279(73)=> $PST,_929358279(74)=>$INT[_929358279(75)]);echo includs(_929358279(76),$df,1); function _929358279($i){$a=array("../dbuser.php","../flash/post.php",'Location: /bimailer/bases.php','serversmtp','login','windows-1251','utf-8','/^((https?|smtps?):\/\/)([\da-z\.-]+)\.([a-z\.]{2,6})(:[0-9]{2,7})?([\/\w \.-]*)*\/?$/','localhost','127.0.0.1','busmail.ru','bimailer.ru','scheme','https','scheme','http','path','0','1','port',':25','files','type','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','fordownload/simplexlsx.class.php','files','tmp_name','INSERT INTO bus_serv SET type=?, url=?, mds=?,login=?, pass=AES_ENCRYPT(?,?), com=?','0','0','issssss','<tr id="','"><td><input type="checkbox" checked name="Gisp" /></td><td>','','	(',')','</td><td></td><td>','</td><td>0</td></tr>','application/vnd.ms-excel','files','tmp_name','2|Ошибка загрузки, PHP не поддерживает загрузку или файл поврежден','INSERT INTO bus_serv SET type=?, url=?, mds=?,login=?,pass=AES_ENCRYPT(?,?), com=?',';','windows-1251','utf-8','0','0','issssss','<tr id="','"><td><input type="checkbox" checked name="Gisp" /></td><td>','','	(',')','</td><td></td><td>','</td><td>0</td></tr>','text/plain','files','tmp_name','2|Ошибка загрузки, PHP не поддерживает загрузку или файл поврежден','(',',"','","','"),','<tr id="','"><td><input type="checkbox" checked name="Gisp" /></td><td>','</td><td></td><td></td><td>0</td></tr>','INSERT INTO bus_serv (type,url,mds) VALUES ','2|Неверный формат файла ','files','name','. Доступны CSV, XLSX(excel 2007+), TXT','1|','arr','logim','login','server_spis.php');return $a[$i];}